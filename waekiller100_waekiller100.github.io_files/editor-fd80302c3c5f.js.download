"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["editor"],{62220:(e,t,n)=>{var r,o=n(254),i=n(54697),l=n(36071),a=n(59753),s=n(97629);let c=new WeakMap;function u(e){let t=e.querySelector(".js-blob-filename"),n=t.value;return"."!==n&&".."!==n&&".git"!==n&&/\S/.test(t.value)}function d(e){let t=e.querySelector(".js-blob-contents");return"true"===t.getAttribute("data-allow-unchanged")||S(t)}function f(e){let t=e.querySelector(".js-new-filename-field");return S(t)}function m(e){return Array.from(e.querySelectorAll(".js-check-for-fork")).some(s.Z)}function h(e){return!m(e)&&!!u(e)&&(d(e)||f(e))}function p(e){let t=e.querySelector(".js-blob-contents");return!!t.getAttribute("data-allow-unchanged")||S(t)}function g(e){let t=e.querySelector(".js-blob-contents");return S(t)||f(e)}let b=null;function v(e){let t=e.getAttribute("data-github-confirm-unload");return(("yes"===t||"true"===t)&&(t=""),null==t&&(t="false"),"no"===t||"false"===t)?null:function(){return t}}function y(){let e=document.querySelector(".js-blob-form");if(!e)return;let t=e.querySelector(".js-blob-submit");t instanceof HTMLButtonElement&&(t.disabled=!h(e)),e.querySelector(".js-blob-contents-changed").value=p(e).toString(),b&&(g(e)?window.onbeforeunload=b:window.onbeforeunload=null)}function w(e){for(let t of e.querySelectorAll("input"))"hidden"===t.getAttribute("type")&&t.getAttribute("class")&&null==t.getAttribute("data-default-value")&&t.setAttribute("data-default-value",t.value)}function S(e){return null==e||("hidden"===e.type?e.value!==e.getAttribute("data-default-value"):e.value!==e.defaultValue)}function E(e){let t=e.querySelector(".js-blob-contents"),n=e.querySelector(".js-new-filename-field"),r=e.querySelector(".js-blob-filename"),o=r.hasAttribute("data-new-file");if(null!=r.defaultValue&&r.defaultValue.length&&!o)return c.set(t,n.value)}function j(e){k(e),T(e),y()}function q(e){function t(){e.focus(),e.setSelectionRange(0,0)}for(;e.value.split("/").length>1;){let n=e.value,r=n.split("/"),o=r[0],i=r.slice(1).join("/");""===o||"."===o||".git"===o?(e.value=i,window.setTimeout(t,1)):".."===o?C(e):A(e,o,i)}}function L(e){let t=x();for(let n of document.querySelectorAll(".js-template-suggestion")){let r=n.getAttribute("data-template-suggestion-pattern");if(r){let o=RegExp(r,"i"),i=o.test(t+e);if(n.classList.toggle("d-none",!i),i){let t=n.querySelector("a[data-template-button]");if(!t)return;let r=new URL(t.href,window.location.origin);r.searchParams.set("filename",e),t.href=`${r.pathname}${r.search}`}}}}function T(e){let t=!0,n=e.value?`Create ${e.value}`:"Create new file",r=e.closest("form"),o=document.querySelector(".js-blob-contents"),i=r.querySelector(".js-new-blob-commit-summary");if(!i)return;let l=document.querySelector(".js-commit-message-fallback"),a=c.get(o),s=document.querySelector(".js-new-filename-field").value;if(a){if(s!==a){let r=S(o),i=r?"Update and rename":"Rename";if(e.value.length&&s.length){let e=a.split("/"),r=s.split("/"),o=e.length-1;for(let n=0;n<e.length;n++){let i=e[n];n!==o&&i!==r[n]&&(t=!1)}n=e.length===r.length&&t?`${i} ${e[o]} to ${r[o]}`:`${i} ${a} to ${s}`}else n=`${i} ${a}`}else s===a&&(n=`Update ${e.value}`)}i.setAttribute("placeholder",n),l.value=n}function k(e){let t=x()+e.value;document.querySelector(".js-new-filename-field").value=t}function x(){let e="";for(let t of document.querySelectorAll(".js-breadcrumb-container > .js-path-segment"))e=`${e}${t.textContent}/`;return e}function C(e,t=!1){let n;t||(e.value=e.value.replace("../",""));let r=document.querySelector(".js-breadcrumb-container");if(1!==r.querySelectorAll(".separator").length){e.previousElementSibling&&e.previousElementSibling.remove();let r=e.previousElementSibling;n=r.textContent.length,r.remove(),t&&(e.value=`${r.textContent}${e.value}`)}L(e.value),window.setTimeout(function(t,n=0){(0===n||t)&&(e.focus(),e.setSelectionRange(n,n))},1,t,n)}function A(e,t,n){let r=t.trim(),o=document.querySelector(".js-breadcrumb-container");if(r.length>0){let t;let n=o.querySelectorAll(".js-path-segment a");if(n.length>1)t=n[n.length-1].pathname;else{let e=o.querySelector(".js-repo-root a");t=e.pathname}let i=document.querySelector(".js-crumb-template").cloneNode(!0);i.classList.remove("js-crumb-template"),i.querySelector("a").href=t,i.querySelector("span").textContent=r;let l=document.querySelector(".js-crumb-separator").cloneNode(!0);l.classList.remove("js-crumb-separator"),e.before(i),e.before(l)}e.value=n,L(e.value),window.setTimeout(function(){e.focus(),e.setSelectionRange(0,0)},1)}async function M(e){let t=e.currentTarget.closest(".js-blob-form"),n=(0,i.Pi)(t.querySelector(".js-code-editor"));if(null==n)return;let r=e.currentTarget.getAttribute("data-template-url"),o=await fetch(r,{headers:{"X-Requested-With":"XMLHttpRequest"}});if(!o.ok)return;let l=await o.text();n.setCode(l)}(0,l.N7)(".js-blob-form",{constructor:HTMLFormElement,initialize(e){setTimeout(()=>{w(e),E(e),y(),b=v(e),e.addEventListener("submit",function(){window.onbeforeunload=null})})}}),(0,a.on)("change",".js-blob-contents",function(){let e=document.querySelector(".js-blob-filename");e&&j(e)}),(0,o.q6)(".js-blob-filename",function(e){let t=e.currentTarget;document.querySelector(".js-blob-contents").setAttribute("data-filename",t.value),L(t.value),j(t)}),(0,o.q6)(".js-breadcrumb-nav",function(e){let t=e.currentTarget;q(t),j(t)}),(0,l.N7)(".js-breadcrumb-nav",{constructor:HTMLInputElement,initialize(e){q(e),j(e)}}),(0,o.w4)("keydown",".js-breadcrumb-nav",function(e){let t=e.currentTarget;if("Backspace"===e.key&&0===t.selectionStart&&0===t.selectionEnd){let n=t.parentElement;n&&1!==n.querySelectorAll(".separator").length&&(C(t,!0),e.preventDefault())}j(t)}),(0,o.q6)(".js-new-blob-commit-summary",function(e){let t=e.currentTarget,n=t.closest(".js-file-commit-form"),r=n.querySelector(".js-too-long-error");r.classList.toggle("d-none",t.value.length<=50)}),(0,l.N7)(".js-check-for-fork",function(e){let t=e.closest("form"),n=t.querySelector(".js-blob-submit");e.addEventListener("load",function(){!0===m(t)&&(n.disabled=!0)})}),(0,a.on)("click",".js-citation-template",async function(e){await M(e)}),(0,a.on)("change",".js-gitignore-template input[type=radio]",async function(e){await M(e)}),(0,l.N7)(".js-file-commit-form",function(e){let t=new URLSearchParams(window.location.search.slice(1));if("true"===t.get("start_commit")){let t=e.querySelector(".js-details-target");t&&t.click()}});var R=n(46263),_=n(54650),N=n(75662),H=n(76006),$=n(61564),D=function(e,t,n,r){var o,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(l=(i<3?o(l):i>3?o(t,n,l):o(t,n))||l);return i>3&&l&&Object.defineProperty(t,n,l),l};let I=["loading-preview","show-preview","no-changes-preview","error-preview"],O=["show-code"].concat(I),P=((r=class BlobEditorElement extends HTMLElement{async connectedCallback(){if(this.discoveredSecrets){let e=await (0,i.gD)(this);$.n.annotateDiscoveredSecrets(e.editor,this.discoveredSecrets)}}}).attrPrefix="",r);function U(e){return e.classList.contains("show-code")?"show-code":e.classList.contains("template-editor")?"template-editor":"preview"}function B(e){let t=U(e);for(let n of e.querySelectorAll(".js-blob-edit-tab")){let e=n.getAttribute("data-tab")===t;n.classList.toggle("selected",e),e?n.setAttribute("aria-current","true"):n.removeAttribute("aria-current")}(0,a.f)(document.querySelector(".js-file-editor-nav"),"tab:change",{name:t})}function F(e){for(let t of[".md",".mkdn",".mkd",".mdown",".markdown"])if(e.endsWith(t))return!0;return!1}function W(e){return"true"===e.getAttribute("data-is-gist")}function V(e,t){return(W(e)?e:t).querySelector(".js-blob-filename")}function X(e,t,n){let r=V(e,t);W(e)?r.readOnly=!n:r.disabled=!n,r.style.cursor=n?"auto":"not-allowed"}function G(e){let t=e.closest(".file-header"),n=t.querySelector(".js-file-editor-nav");n.hidden=!F(e.value)}function Z(e){let t=e.currentTarget.closest(".js-code-editor");if(t.classList.contains("show-code"))return;t.querySelector(".js-blob-edit-code").removeAttribute("data-hotkey"),ee(t,"show-code"),B(t);let n=(0,i.Pi)(t);n?(n.refresh(),n.focus()):t.classList.contains("js-mobile-code-editor")&&t.querySelector(".js-code-textarea").focus();let r=t.closest(".js-blob-form");X(t,r,!0)}function Q(){let e=document.querySelector(".js-branch-name-label-container"),t=!!document.querySelector(".js-quick-pull-choice-option[value=quick-pull]:checked");e&&(t?e.hidden=!0:e.hidden=!1)}function z(e,t){let n=t.querySelector(".js-preview-diff-toggle");return n&&n instanceof HTMLInputElement?!n.checked:K(t)}function K(e){return"true"===e.getAttribute("data-simplediff-enabled")}function J(e){let t=e.currentTarget.closest(".js-code-editor");if(!t.classList.contains("show-code")&&!t.classList.contains("template-editor"))return;t.querySelector(".js-blob-edit-code").setAttribute("data-hotkey","Control+P,Meta+P");let n=t.closest(".js-blob-form");return en(t,n,!W(t),!W(t)&&z(e,t))}function Y(e){let t=e.currentTarget;if(t instanceof HTMLInputElement){let n=t.checked,r=e.currentTarget.closest(".js-code-editor"),o=r.closest(".js-blob-form");return en(r,o,!0,!n)}}function ee(e,t){e.classList.remove(...O),e.classList.add(t);let n=e.querySelector(".preview-actions");n instanceof HTMLElement&&(n.hidden=!I.includes(t))}D([H.Lj],P.prototype,"discoveredSecrets",void 0),P=D([H.Ih],P),(0,o.w4)("keypress","input.js-blob-filename",function(e){if("Enter"===e.key){let t=e.target.form,n=t.querySelector("select.js-code-indent-mode");n&&n.focus(),e.preventDefault()}}),(0,o.w4)("keyup",".js-code-editor[data-is-gist] input.js-blob-filename",function(e){let t=e.target;G(t)}),(0,l.N7)(".js-branch-name-label-container",Q),(0,l.N7)(".js-gist-filename",{add(e){G(e)}}),(0,a.on)("click",".js-blob-edit-code",Z),(0,a.on)("click",".js-blob-edit-preview",J),(0,a.on)("click",".js-preview-diff-toggle",Y),(0,a.on)("codeEditor:preview",".js-code-textarea",function(e){let t=e.currentTarget.closest(".js-code-editor");t.classList.contains("show-code")&&J(e)});let et=null;async function en(e,t,n,r){ee(e,"loading-preview"),B(e),X(e,t,!1);let o=!!document.querySelector(".js-quick-pull-choice-option[value=quick-pull]:checked"),l=document.querySelector(".js-blob-preview-form"),a=(0,i.Pi)(e),s=null,c=1;if(null!=a)s=a.code(),c=a.editor.getCursor("from").line+1;else{if(!e.classList.contains("js-mobile-code-editor"))return;let t=e.querySelector(".js-code-textarea");c=(s=t.value).substring(0,t.selectionStart).split(/\r?\n/).length}W(e)?(0,_.DN)(l,{blobname:t.querySelector(".js-blob-filename").value,code:s}):(0,_.DN)(l,{code:s,commit:t.querySelector(".js-commit-oid").value,blobname:t.querySelector(".js-blob-filename").value,willcreatebranch:o.toString(),checkConflict:n.toString()}),et?.abort();let{signal:u}=et=new AbortController;try{let t=new URL(l.action,window.location.origin);r&&t.searchParams.append("avoiddiff","true");let n=await fetch(t.toString(),{method:l.method,body:new FormData(l),signal:u});if(!n.ok)throw Error("network error");let o=await n.text();if(!e.classList.contains("loading-preview"))return;let i=(0,N.r)(document,o),a=W(e)?i:i.querySelector(".data.highlight");if(a||(a=i.querySelector("#readme")),a||(a=i.querySelector(".js-preview-new-file")),a||(a=i.querySelector(".js-preview-msg")),!a&&(a=i.querySelector(".render-container"))&&a.classList.add("is-render-requested"),a){let t=e.querySelector(".js-commit-preview");t.textContent="",t.appendChild(a),ee(e,"show-preview"),er(t,c)}else ee(e,"no-changes-preview")}catch(t){e&&ee(e,"error-preview")}}function er(e,t){if(!e.querySelector(".markdown-body")||!e.querySelector("[data-sourcepos]"))return;let n=null;for(let r=t;r>=t-50&&!(n=e.querySelector(`[data-sourcepos^="${r}:"]`));r--);n?.scrollIntoView({block:"start"})}(0,a.on)("change",".js-quick-pull-choice-option",function(e){let t="quick-pull"===e.currentTarget.value,n=document.querySelector(".js-quick-pull-target-branch"),r=document.querySelector(".js-quick-pull-choice-value"),o=document.querySelector(".js-blob-submit");if(Q(),t){let e=document.querySelector(".js-quick-pull-new-branch-name"),t=e.getAttribute("data-generated-branch");!e.value.length&&t&&(e.value=t),e.focus(),e.select(),n.value=e.value,r.value=n.getAttribute("data-default-value")||"",o.textContent=o.getAttribute("data-pull-text")||""}else n.value=n.getAttribute("data-default-value")||"",r.value="",o.textContent=o.getAttribute("data-edit-text")||""});let eo=null,ei=null;async function el(){let e=document.querySelector(".js-quick-pull-new-branch-name"),t=e.value,n=e.getAttribute("data-generated-branch"),r=document.querySelector(".js-quick-pull-normalization-info"),o=new FormData;o.append("ref",t);let i=e.getAttribute("data-check-url"),l=e.parentElement.querySelector(".js-data-check-url-csrf");eo?.abort();let{signal:a}=eo=new AbortController;try{let s=await fetch(i,{mode:"same-origin",method:"POST",body:o,signal:a,headers:{Accept:"application/json","Scoped-CSRF-Token":l.value}});if(!s.ok)throw Error("network error");let c=await s.json();if(t!==e.value)return;let u=c.normalized_ref;if(r.innerHTML=null==c.message_html?"":c.message_html,!u){let e=r.querySelector("code");e.textContent=n}ei&&(ei.value=u)}catch(n){if(t!==e.value)return;ei&&(ei.value=t)}}let ea=(0,R.D)(el,200);(0,o.q6)(".js-quick-pull-new-branch-name",function(e){let t=e.target.value;(ei=document.querySelector(".js-quick-pull-target-branch")).value=t,t.length&&ea()}),(0,a.on)("click","[data-template-button]",function(){window.onbeforeunload=null});var es=n(71707),ec=n(82936),eu=n(68423);async function ed(e){let t=e.getAttribute("data-language-detection-url");if(!t)return;let n=document.querySelector(".js-code-editor");if(!n)return;let r=btoa(encodeURIComponent(e.value)),o=new URL(t,window.location.origin),l=new URLSearchParams(o.search.slice(1));l.append("filename",r),o.search=l.toString();let a=await fetch(o.toString(),{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!a.ok){let e=Error(),t=a.statusText?` ${a.statusText}`:"";throw e.message=`HTTP ${a.status}${t}`,e}let s=await a.json(),c=await (0,i.gD)(n);c.setMode(s.language)}(0,o.ZG)(".js-detect-filename-language",e=>{(0,eu.oq)(e,ed),e.addEventListener("blur",()=>(0,eu.iU)(e,ed),{once:!0})});var ef=n(4631),em=n.n(ef),eh=n(94313),ep=n(81574),eg=n(53438),eb=n(66644),ev=n(56599);let ey=class CodeEditor{code(){return this.editor.getValue()}setCode(e){this.editor.setValue(e)}refresh(){this.editor.refresh()}focus(){this.editor.focus()}blur(){this.editor.getInputField().blur()}getDocument(){return this.editor.getDoc()}on(e,t){this.container.addEventListener(e,t)}off(e,t){this.container.removeEventListener(e,t)}setDocument(e){this.editor.swapDoc(e),e.modeOption&&void 0!==e.modeOption.name||this.setMode(e.modeOption)}async loading(e){this.editor.setOption("readOnly",!0),await e(),window.onbeforeunload=null,this.editor.setOption("readOnly",!1)}setMode(e){let t=e;this.mergeMode&&(t={name:"conflict",baseMode:t,editor:this.editor}),"text/x-gfm"===t?this.editor.setOption("mode",{name:"gfm",gitHubSpice:!1}):this.editor.setOption("mode",t);let n=this.container.querySelector(".drag-and-drop");if(n){let e=!("text/x-gfm"===t||"text/x-markdown"===t);n.hidden=e,this.editor.setOption("dragDrop",e)}if(t&&!this.mergeMode){let e=em().findModeByMIME(t);em().autoLoadMode(this.editor,e.mode)}}setConfirmUnloadMessage(e){this.confirmUnload=function(){return e}}clearConfirmUnloadMessage(){this.confirmUnload=void 0,window.onbeforeunload=null}setupFormBindings(){let e=(e,t)=>{this.confirmUnload&&(window.onbeforeunload=this.confirmUnload),(0,_.Se)(this.textarea,this.code()),(0,eg.kb)(e)&&(0,ev.o)(e),(0,a.f)(this.container,"change",{editor:e,changes:t})};if(this.editor.on("change",e),this.editor.on("swapDoc",e),this.editor.on("renderLine",eg.aU),this.editor.on("paste",eg.ag),this.confirmUnload){let e=this.textarea.closest("form");if(null==e)return;e.addEventListener("submit",()=>{window.onbeforeunload=null})}}setupControlBindings(){let e=this.container.querySelector(".js-code-indent-width"),t=this.container.querySelector(".js-code-wrap-mode"),n=this.container.querySelector(".js-code-indent-mode");this.editor.setOption("tabSize",parseInt(e.value)),this.editor.setOption("indentUnit",parseInt(e.value)),this.editor.setOption("lineWrapping","on"===t.value),this.editor.setOption("indentWithTabs","space"!==n.value),e.addEventListener("change",()=>{this.editor.setOption("tabSize",parseInt(e.value)),this.editor.setOption("indentUnit",parseInt(e.value))}),t.addEventListener("change",()=>{this.editor.setOption("lineWrapping",null!=t&&"on"===t.value)}),n.addEventListener("change",()=>{this.editor.setOption("indentWithTabs","space"!==n.value)})}setupKeyBindings(){this.editor.addKeyMap(eb.p),this.editor.addKeyMap({"Shift-Cmd-P":()=>{this.blur(),(0,a.f)(this.textarea,"codeEditor:preview")}}),(0,eh.Ty)()||delete em().keyMap.default["Alt-G"]}setupScrollOnHashChange(){(0,ep.Z)(()=>{let e=eS(window.location.hash);e.length>0&&(this.focus(),this.editor.setCursor({line:e[0]-1,ch:0},{scroll:!0}))})}markText(e,t,n){return this.editor.markText(e,t,{className:n})}constructor(e){if(this.container=e,!this.container)return;this.container.setAttribute("data-editor-loaded",""),this.textarea=this.container.querySelector(".js-code-textarea"),this.filename=this.textarea.getAttribute("data-filename")||"";let t=this.textarea.value,n=this.textarea.getAttribute("data-codemirror-mode"),r="true"===this.textarea.getAttribute("data-codemirror-fixed-height");this.mergeMode="true"===this.textarea.getAttribute("data-merge-mode");let o=this.textarea.clientHeight;this.textarea.style.display="none";let i={lineNumbers:!0,value:t,inputStyle:"contenteditable",theme:"github-light"};this.mergeMode&&(i.gutters=["CodeMirror-linenumbers","merge-gutter"]);let l=this.textarea.parentElement;this.editor=em()(l,i);let a=this.textarea.getAttribute("data-hotkey-scope-id")||"code-editor";if(this.editor.getInputField().setAttribute("id",a),0!==o&&r){let e=this.container.querySelector(".CodeMirror");e&&(e.style.height=`${o}px`)}this.setMode(n),this.setupKeyBindings(),this.setupFormBindings(),this.setupControlBindings(),this.setupScrollOnHashChange()}};function ew(e){if((0,i.Pi)(e)||e.hasAttribute("data-editor-loaded")||e.classList.contains("js-mobile-code-editor"))return;let t=new ey(e),n=e.getAttribute("data-github-confirm-unload")||"";("yes"===n||"true"===n)&&(n=""),"no"===n||"false"===n||t.setConfirmUnloadMessage(n),(0,a.f)(e,"codeEditor:ready",{editor:t})}function eS(e){let t,n;let r=e.match(/#?(?:L|-)(\d+)/gi);if(!r)return[];{let e=[];for(t=0,n=r.length;t<n;t++){let n=r[t];e.push(parseInt(n.replace(/\D/g,"")))}return e}}(0,l.N7)(".js-code-editor",{constructor:HTMLElement,add:ew});var eE=n(4945),ej=n(81775),eq=n(40458);function eL(e){let t=document.querySelector(".js-resolve-conflicts-form");return t.elements.namedItem(e)}let eT=new WeakMap;function ek(e){let t=eL(e);return eT.get(t)}function ex(e,t){eT.set(eL(e),t)}async function eC(e){let t=document.querySelector(".js-code-editor");if(!(t instanceof HTMLElement))return;let n=await (0,i.gD)(t);function r(){let t=e.getAttribute("data-filename")||"",n=`files[${t}]`,r=ek(n);if(null==r)throw Error("Expected file data to be loaded and was not");eA(r)}n.off("change",r),n.on("change",r);let o=t.closest(".js-conflict-resolver");null!=o&&(o.classList.add("loading"),n.loading(async()=>{let t=e.getAttribute("data-filename");if(!t)return;let r=`files[${t}]`,i=document.querySelector(".js-resolve-file-form");for(let n of(i.elements.namedItem("filename").value=r,i.querySelector(".js-filename").textContent=decodeURIComponent(t),i.classList.toggle("is-resolved",e.classList.contains("resolved")),e.parentNode.children))n.classList.toggle("selected",n===e);let l=ek(r);if(!l){let t=await fetch(e.href,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!t.ok){let e=Error(),n=t.statusText?` ${t.statusText}`:"";throw e.message=`HTTP ${t.status}${n}`,e}let n=await t.json();eA(l={document:ec.Z.Doc(n.conflicted_file.data,n.conflicted_file.codemirror_mime_type),headDocument:ec.Z.Doc(n.head.data,n.head.codemirror_mime_type),baseDocument:ec.Z.Doc(n.base.data,n.base.codemirror_mime_type),conflicts:[]}),ex(r,l)}o.classList.remove("loading"),n.setDocument(l.document),document.querySelector(".js-code-editor .js-conflict-count").textContent=new Intl.NumberFormat("en-US").format(l.conflicts.length);let a=document.querySelector(".js-code-editor .js-conflict-label");a.textContent=a.getAttribute(1===l.conflicts.length?"data-singular-string":"data-plural-string"),eM(!0)}))}function eA(e){let t={};e.conflicts=[],e.document.eachLine(n=>{if(!n)return;let r=e.document;if(r.setGutterMarker(n,"merge-gutter",null),!t.start&&/^<<<<<<</.test(n.text)?t.start=n:t.start&&/^=======/.test(n.text)?t.middle=n:t.start&&/^>>>>>>>/.test(n.text)&&(t.end=n),t.start){let e=".js-line";t.start===n?e=".js-start":t.middle===n?e=".js-middle":t.end===n&&(e=".js-end");let o=document.querySelector(`.js-conflict-gutters ${e}`).cloneNode(!0);r.setGutterMarker(n,"merge-gutter",o)}t.end&&(e.conflicts.push(t),t={})})}function eM(e){let t=document.querySelector(".js-resolve-file-form"),n=t.elements.namedItem("filename").value,r=ek(n);if(null==r)throw Error("Expected file data to be loaded and was not");let o=r.document.getCursor().line,i=r.conflicts,l=null;for(let t=e?0:i.length-1;e?t<i.length:t>=0;e?t++:t--){let n=i[t].middle;if(null==n)continue;let a=r.document.getLineNumber(n);if(e&&a>o||!e&&a<o){l=a;break}}null!=l&&r.document.setCursor(l,0),r.document.getEditor().focus()}(0,a.on)("click","a.js-conflicted-file",function(e){let t=e.currentTarget;e.preventDefault(),eC(t)}),(0,a.on)("click",".js-prev-conflict",function(e){eM(!1),e.preventDefault()}),(0,a.on)("click",".js-next-conflict",function(e){eM(!0),e.preventDefault()}),(0,a.on)("submit","form.js-resolve-file-form",function(e){let t=e.currentTarget;if(e.preventDefault(),t.querySelector("button.js-mark-resolved").classList.contains("disabled"))return;let n=document.querySelector(".js-conflicted-file.selected");n&&n.classList.add("resolved");let r=document.querySelectorAll(".js-conflicted-file.resolved").length,o=document.querySelectorAll(".js-conflicted-file").length;if(r===o){let e=document.querySelector(".js-resolve-conflicts-complete");e&&e.classList.remove("d-none");let t=document.querySelector(".js-resolve-file-form");t&&t.classList.add("is-resolved")}let i=n;if(null!=i)do i=i.nextElementSibling;while(i&&!i.classList.contains("js-conflicted-file"))if(i instanceof HTMLAnchorElement)return eC(i)}),(0,a.on)("submit","form.js-resolve-conflicts-form",async function(e){let t=e.currentTarget;e.preventDefault(),await (0,eq.Z)();let n=new FormData(t),r=t.querySelectorAll("input.js-file");for(let e of r){let t=ek(e.name);if(null==t)throw Error("Expected file data to be loaded and was not");n.append(e.name,t.document.getValue())}let o=await fetch(t.action,{method:"POST",body:n,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!o.ok){let e=Error(),t=o.statusText?` ${o.statusText}`:"";throw e.message=`HTTP ${o.status}${t}`,e}let l=await o.json();try{if(l.error)throw Error(l.error);await (0,eE.DF)(l.job.url);let e=document.querySelector(".js-code-editor"),t=await (0,i.gD)(e);t.clearConfirmUnloadMessage(),window.location.pathname+="/.."}catch(n){let e=document.querySelector(".js-resolve-conflicts-complete");e&&e.classList.toggle("d-none");let t=document.querySelector(".js-resolve-conflicts-failed");t&&t.classList.toggle("d-none")}}),(0,a.on)("change",".js-conflict-resolver .js-code-editor",async function(e){let t=e.currentTarget,n=await (0,i.gD)(t),r=document.querySelector(".js-resolve-file-form"),o=r.elements.namedItem("filename").value,l=ek(o);if(null==l)throw Error("Expected file data to be loaded and was not");let a=0!==l.conflicts.length||/^[<>]{7}/m.test(n.code()),s=t.querySelector("button.js-mark-resolved");s.classList.toggle("disabled",a),s.classList.toggle("tooltipped",a);let c=a?s.getAttribute("data-disabled-label"):"";c&&s.setAttribute("aria-label",c)}),(0,l.N7)(".js-conflict-list",function(e){let t=e.querySelector(".js-conflicted-file");t instanceof HTMLAnchorElement&&eC(t);let n=document.querySelector(".new-discussion-timeline");n&&(n.classList.remove("px-3"),n.classList.add("p-0"))}),(0,a.on)("change",".js-conflict-resolution-choice-option",function(e){let t=e.target,n=t.closest(".js-resolve-conflicts-form"),r=n.querySelector(".js-resolve-conflicts-button"),o=n.querySelector(".js-quick-pull-new-branch-name");"direct"===t.value?(r.textContent=r.getAttribute("data-update-text"),r.removeAttribute("data-disable-invalid"),r.removeAttribute("disabled"),o.setAttribute("disabled","true")):(r.textContent=r.getAttribute("data-new-branch-text"),r.setAttribute("data-disable-invalid","true"),o.removeAttribute("disabled"),(0,ej.G)(n))})},54679:(e,t,n)=>{n.d(t,{H:()=>i,v:()=>o});var r=n(59753);function o(){let e=document.getElementById("ajax-error-message");e&&(e.hidden=!1)}function i(){let e=document.getElementById("ajax-error-message");e&&(e.hidden=!0)}(0,r.on)("deprecatedAjaxError","[data-remote]",function(e){let t=e.detail,{error:n,text:r}=t;e.currentTarget===e.target&&"abort"!==n&&"canceled"!==n&&(/<html/.test(r)?(o(),e.stopImmediatePropagation()):setTimeout(function(){e.defaultPrevented||o()},0))}),(0,r.on)("deprecatedAjaxSend","[data-remote]",function(){i()}),(0,r.on)("click",".js-ajax-error-dismiss",function(){i()})},81574:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(80721),o=n(31167);let i=[],l=0;function a(e){!async function(){i.push(e),await r.x,s()}()}function s(){let e=l;l=i.length,c(i.slice(e),null,window.location.href)}function c(e,t,n){let r=window.location.hash.slice(1),o=r?document.getElementById(r):null,i={oldURL:t,newURL:n,target:o};for(let t of e)t.call(null,i)}a.clear=()=>{i.length=l=0};let u=window.location.href;window.addEventListener("popstate",function(){u=window.location.href}),window.addEventListener("hashchange",function(e){let t=window.location.href;try{c(i,e.oldURL||u,t)}finally{u=t}});let d=null;document.addEventListener(o.QE.START,function(){d=window.location.href}),document.addEventListener(o.QE.SUCCESS,function(){c(i,d,window.location.href)})},81775:(e,t,n)=>{n.d(t,{G:()=>c});var r=n(254),o=n(36071),i=n(59753);function l(e){let t=e.getAttribute("data-required-value"),n=e.getAttribute("data-required-value-prefix");if(e.value===t)e.setCustomValidity("");else{let r=t;n&&(r=n+r),e.setCustomValidity(r)}}(0,r.q6)("[data-required-value]",function(e){let t=e.currentTarget;l(t)}),(0,i.on)("change","[data-required-value]",function(e){let t=e.currentTarget;l(t),c(t.form)}),(0,r.q6)("[data-required-trimmed]",function(e){let t=e.currentTarget;""===t.value.trim()?t.setCustomValidity(t.getAttribute("data-required-trimmed")):t.setCustomValidity("")}),(0,i.on)("change","[data-required-trimmed]",function(e){let t=e.currentTarget;""===t.value.trim()?t.setCustomValidity(t.getAttribute("data-required-trimmed")):t.setCustomValidity(""),c(t.form)}),(0,r.ZG)("input[pattern],input[required],textarea[required],input[data-required-change],textarea[data-required-change],input[data-required-value],textarea[data-required-value]",e=>{let t=e.checkValidity();function n(){let n=e.checkValidity();n!==t&&e.form&&c(e.form),t=n}e.addEventListener("input",n),e.addEventListener("blur",function t(){e.removeEventListener("input",n),e.removeEventListener("blur",t)})});let a=new WeakMap;function s(e){a.get(e)||(e.addEventListener("change",()=>c(e)),a.set(e,!0))}function c(e){let t=e.checkValidity();for(let n of e.querySelectorAll("button[data-disable-invalid]"))n.disabled=!t}(0,o.N7)("button[data-disable-invalid]",{constructor:HTMLButtonElement,initialize(e){let t=e.form;t&&(s(t),e.disabled=!t.checkValidity())}}),(0,o.N7)("input[data-required-change], textarea[data-required-change]",function(e){let t="radio"===e.type&&e.form?e.form.elements.namedItem(e.name).value:null;function n(n){let r=e.form;if(n&&"radio"===e.type&&r&&t)for(let n of r.elements.namedItem(e.name))n instanceof HTMLInputElement&&n.setCustomValidity(e.value===t?"unchanged":"");else e.setCustomValidity(e.value===(t||e.defaultValue)?"unchanged":"")}e.addEventListener("input",n),e.addEventListener("change",n),n(),e.form&&c(e.form)}),document.addEventListener("reset",function(e){if(e.target instanceof HTMLFormElement){let t=e.target;setTimeout(()=>c(t))}})},94313:(e,t,n)=>{n.d(t,{Ty:()=>o,YE:()=>i,Zf:()=>l});var r=n(11793);let o=()=>{let e=document.querySelector("meta[name=keyboard-shortcuts-preference]");return!e||"all"===e.content},i=e=>/Enter|Arrow|Escape|Meta|Control|Esc/.test(e)||e.includes("Alt")&&e.includes("Shift"),l=e=>{let t=(0,r.EL)(e);return!!o()||i(t)}},54697:(e,t,n)=>{n.d(t,{Pi:()=>l,gD:()=>a,hX:()=>c,l8:()=>s});var r=n(59753);let o=new WeakMap,i=new WeakMap;function l(e){return o.get(e)}async function a(e){return o.get(e)||u(await d(e,"codeEditor:ready"))}function s(e,t){i.set(e,t)}function c(e){return i.get(e)}function u(e){if(!(e instanceof CustomEvent))throw Error("assert: event is not a CustomEvent");let t=e.detail.editor;if(!e.target)throw Error("assert: event.target is null");return o.set(e.target,t),t}function d(e,t){return new Promise(n=>{e.addEventListener(t,n,{once:!0})})}(0,r.on)("codeEditor:ready",".js-code-editor",u)},82936:(e,t,n)=>{n.d(t,{Z:()=>q});var r=n(14504),o=n(52539),i=n(40790),l=n(14146),a=n(87093),s=n(55292),c=n(81699),u=n(32095),d=n(14568),f=n(23350),m=n(74102),h=n(4631),p=n.n(h);let g=document.querySelector("link[rel=assets]"),b=g instanceof HTMLLinkElement&&g.href||"/",v=`${b}static/javascripts/codemirror%CONTRIB/mode/%N/%N.js?v=1`,y={};function w(e,t){let n=t;return()=>{0==--n&&e()}}function S(e,t){let n=p().modes[e].dependencies;if(!n)return t();let r=[];for(let e=0;e<n.length;++e)p().modes.hasOwnProperty(n[e])||r.push(n[e]);if(!r.length)return t();let o=w(t,r.length);for(let e=0;e<r.length;++e)p().requireMode(r[e],o)}function E(e,t){if(p().modes.hasOwnProperty(e))return S(e,t);if(y.hasOwnProperty(e))return y[e].push(t);let n=p().findModeByName(e),r=n&&n.contrib?"/contrib":"",o=v.replace(/%CONTRIB/,r).replace(/%N/g,e);window.CodeMirror=p();let i=document.createElement("script");i.src=o,i.crossOrigin="anonymous";let l=document.querySelector("meta[name=codemirror-crossorigin-credentials]");l&&(i.crossOrigin="use-credentials");let a=document.getElementsByTagName("script")[0],s=y[e]=[t];if(p().on(i,"load",()=>{S(e,()=>{for(let e=0;e<s.length;++e)s[e]()})}),null==a.parentNode)throw Error("first script node must be in the document.");a.parentNode.insertBefore(i,a)}function j(e,t){p().modes.hasOwnProperty(t)||p().requireMode(t,()=>{e.setOption("mode",e.getOption("mode"))})}p().autoLoadMode=j,p().requireMode=E,p().defineMode("conflict",(e,t)=>{let n={startState:()=>({insideConflict:!1}),token:(e,t)=>{if(e.sol()){if(e.match(/^<<<<<<</))return t.insideConflict=!0,e.skipToEnd(),"conflict-marker line-background-conflict-background";if(t.insideConflict&&e.match(/^=======/))return e.skipToEnd(),"conflict-marker line-background-conflict-background";if(t.insideConflict&&e.match(/^>>>>>>>/))return t.insideConflict=!1,e.skipToEnd(),"conflict-marker line-background-conflict-background"}return t.insideConflict?(e.next(),"line-background-conflict-background"):(e.next(),null)},blankLine:e=>e.insideConflict?"line-background-conflict-background":null};if(t.baseMode){let r=p().getMode(e,t.baseMode);if("null"!==r.name)return p().overlayMode(r,n,!0);let o=p().findModeByMIME(t.baseMode);p().autoLoadMode(t.editor,o.mode)}return n}),p().defineMIME("application/x-conflict","conflict");let q=p()},56599:(e,t,n)=>{n.d(t,{o:()=>c});var r=n(71707),o=n.n(r),i=n(4631),l=n.n(i),a=n(15205);let s=(0,a.Z)(async function(){let e=new Request("/autocomplete/emojis_for_editor",{method:"GET",credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}),t=await fetch(e);if(200!==t.status)throw Error(`emoji request failed with a ${t.status}`);let n=[],r=await t.json();for(let e of Object.keys(r)){let t={text:`${e}:`,render:t=>{let n=document.createElement("img");n.className="emoji emoji-result",n.height=20,n.width=20,n.alt=`:${e}:`,n.src=r[e][0],n.setAttribute("async",""),t.appendChild(n),t.appendChild(document.createTextNode(` ${e}`))},hint:(t,n,o)=>{if(2===r[e].length){let i=o.from||n.from,l={ch:i.ch-1,line:i.line};t.replaceRange(r[e][1],l,o.to||n.to,"complete")}else t.replaceRange(o.text,o.from||n.from,o.to||n.to,"complete")}};n.push(t)}return n});async function c(e){let t=e.getCursor();if(!m(e,t)||p(e,t))try{let t=await s();l().showHint(e,()=>{let n=e.getCursor(),r=e.getTokenAt(n),o=n.ch,i=n.ch,a=n.line,s=r.string;for(;i-- >-1;){let n=e.getTokenAt({ch:i,line:a}).string,r=i-1,c=e.getTokenAt({ch:r,line:a}).string;if(":"===n&&f(c)){let e=t.filter(e=>-1!==e.text.indexOf(s));return{list:e,from:l().Pos(a,i),to:l().Pos(a,o)}}s=n+s}return{list:[],from:l().Pos(a,0),to:l().Pos(a,o)}},{completeSingle:!1})}catch(e){}}function u(e){return 1===e.ch}function d(e,t){let n=h(e,t);return/\s/.test(n)}function f(e){return/\s/.test(e)||""===e}function m(e,t){let n=e.getTokenAt(t);return":"===n.string}function h(e,t){return e.getRange({line:t.line,ch:t.ch-2},{line:t.line,ch:t.ch-1})}function p(e,t){return u(t)||d(e,t)}},66644:(e,t,n)=>{n.d(t,{P:()=>a,p:()=>s});var r=n(4631),o=n.n(r),i=n(53438);let l=/Macintosh/.test(navigator.userAgent)?"Cmd":"Ctrl",a=new WeakMap,s={Enter:e=>{e.execCommand("newlineAndIndentContinueMarkdownList")},Tab:e=>{if(e.somethingSelected()){e.indentSelection("add");return}e.getOption("indentWithTabs")?e.replaceSelection("	","end","+input"):e.execCommand("insertSoftTab")},"Shift-Tab":e=>{e.indentSelection("subtract")},"Cmd-/":"toggleComment","Ctrl-/":"toggleComment",[`${l}-I`]:e=>(0,i.uC)(e,"_"),[`${l}-B`]:e=>(0,i.uC)(e,"**"),[`${l}-E`]:e=>(0,i.uC)(e,"`"),[`${l}-K`]:e=>(0,i.Du)(e),[`Shift-${l}-.`]:e=>(0,i.hD)(e,">"),[`Shift-${l}-7`]:e=>(0,i.hD)(e,"ol"),[`Shift-${l}-8`]:e=>(0,i.hD)(e,"-"),[`Shift-${l}-Alt-V`]:e=>(a.set(e,!0),o().Pass),[`Shift-${l}-V`]:e=>(a.set(e,!0),o().Pass)}},53438:(e,t,n)=>{n.d(t,{Du:()=>c,aU:()=>o,ag:()=>i,hD:()=>s,kb:()=>l,uC:()=>a});var r=n(66644);let o=(e,t,n)=>{l(e)&&n.setAttribute("dir","auto")},i=(e,t)=>{r.P.get(e)||u(e,t),r.P.set(e,!1)};function l(e){let t=e.getMode().name;return"gfm"===t||"markdown"===t||"text/x-markdown"===e.getOption("mode")}function a(e,t){if(!l(e))return;let n=e.getSelection();if(n)e.replaceSelection(t+n+t);else{let n=e.getCursor();e.replaceRange(t.repeat(2),n),e.setCursor({line:n.line,ch:n.ch+t.length})}}function s(e,t){if(!l(e))return;let n=e.getCursor("from"),r=e.getCursor("to"),o=e.getRange({line:n.line,ch:0},r),i=RegExp(`^${"ol"===t?"\\d+\\.":t}\\s`);if(o){let r=o.split("\n"),l=r.every(e=>i.test(e));for(let o=0;o<r.length;o++){let a=n.line+o;if(l){let t=r[o].match(i);t&&e.replaceRange("",{line:a,ch:0},{line:a,ch:t[0].length})}else{let n=`${"ol"===t?`${o+1}.`:t} `;e.replaceRange(n,{line:a,ch:0})}}}else{let r=e.getLine(n.line).match(i);if(r)e.replaceRange("",{line:n.line,ch:0},{line:n.line,ch:r[0].length});else{let r=`${"ol"===t?"1.":t} `;e.replaceRange(r,{line:n.line,ch:0})}}}function c(e){if(!l(e))return;let t=e.getSelection();if(t){let n=e.listSelections();if(e.replaceSelection(`[${t}](url)`),1===n.length&&n[0].from().line===n[0].to().line){let t=n[0],r={line:t.from().line,ch:Math.max(t.from().ch,t.to().ch)};e.setSelection({ch:r.ch+3,line:r.line},{ch:r.ch+6,line:r.line})}}else{let t=e.getCursor();e.replaceRange("[](url)",t),e.setCursor({line:t.line,ch:t.ch+1})}}function u(e,t){if(!l(e))return;let n=e.getSelection(),r=t.clipboardData;if(n&&r){let o=r.getData("text/plain");if(!d(o))return;if(o){let r=e.getCursor();e.replaceSelection(`[${n}](${o})`),e.setCursor({line:r.line,ch:r.ch+o.length+4}),t.preventDefault()}}}function d(e){return/^https?:\/\//i.test(e)}},19146:(e,t,n)=>{n.d(t,{W:()=>o});var r=n(59753);async function o(e){let t=document.querySelector("#site-details-dialog"),n=t.content.cloneNode(!0),o=n.querySelector("details"),i=o.querySelector("details-dialog"),l=o.querySelector(".js-details-dialog-spinner");e.detailsClass&&o.classList.add(...e.detailsClass.split(" ")),e.dialogClass&&i.classList.add(...e.dialogClass.split(" ")),e.label?i.setAttribute("aria-label",e.label):e.labelledBy&&i.setAttribute("aria-labelledby",e.labelledBy),document.body.append(n);try{let t=await e.content;l.remove(),i.prepend(t)}catch(n){l.remove();let t=document.createElement("span");t.textContent=e.errorMessage||"Couldn't load the content",t.classList.add("my-6"),t.classList.add("mx-4"),i.prepend(t)}return o.addEventListener("toggle",()=>{o.hasAttribute("open")||((0,r.f)(i,"dialog:remove"),o.remove())}),i}},80721:(e,t,n)=>{n.d(t,{C:()=>r.C,x:()=>r.x});var r=n(4412)},4945:(e,t,n)=>{n.d(t,{DF:()=>u,Fr:()=>d,a_:()=>c});var r=n(75662);function o(e){let t=[...e.querySelectorAll("meta[name=html-safe-nonce]")].map(e=>e.content);if(t.length<1)throw Error("could not find html-safe-nonce on document");return t}let i=class ResponseError extends Error{constructor(e,t){super(`${e} for HTTP ${t.status}`),this.response=t}};function l(e,t,n=!1){let r=t.headers.get("content-type")||"";if(!n&&!r.startsWith("text/html"))throw new i(`expected response with text/html, but was ${r}`,t);if(n&&!(r.startsWith("text/html")||r.startsWith("application/json")))throw new i(`expected response with text/html or application/json, but was ${r}`,t);let o=t.headers.get("x-html-safe");if(o){if(!e.includes(o))throw new i("response X-HTML-Safe nonce did not match",t)}else throw new i("missing X-HTML-Safe nonce",t)}var a=n(22490);let s=a.Z.createPolicy("server-x-safe-html",{createHTML:(e,t)=>(l(o(document),t),e)});async function c(e,t,n){let o=new Request(t,n);o.headers.append("X-Requested-With","XMLHttpRequest");let i=await self.fetch(o);if(i.status<200||i.status>=300)throw Error(`HTTP ${i.status}${i.statusText||""}`);let l=s.createHTML(await i.text(),i);return(0,r.r)(e,l)}function u(e,t,n=1e3,r=[200]){return async function n(o){let i=new Request(e,t);i.headers.append("X-Requested-With","XMLHttpRequest");let l=await self.fetch(i);if(202===l.status)return await new Promise(e=>setTimeout(e,o)),n(1.5*o);if(r.includes(l.status))return l;if(l.status<200||l.status>=300)throw Error(`HTTP ${l.status}${l.statusText||""}`);throw Error(`Unexpected ${l.status} response status from poll endpoint`)}(n)}async function d(e,t,n){let{wait:r=500,acceptedStatusCodes:o=[200],max:i=3,attempt:l=0}=n||{},a=async()=>new Promise((n,a)=>{setTimeout(async()=>{try{let r=new Request(e,t);r.headers.append("X-Requested-With","XMLHttpRequest");let a=await self.fetch(r);if(o.includes(a.status)||l+1===i)return n(a);n("retry")}catch(e){a(e)}},r*l)}),s=await a();return"retry"!==s?s:d(e,t,{wait:r,acceptedStatusCodes:o,max:i,attempt:l+1})}},54650:(e,t,n)=>{n.d(t,{Bt:()=>a,DN:()=>u,KL:()=>m,Se:()=>c,qC:()=>h,sw:()=>d});var r=n(59753),o=n(76177),i=n(54679);function l(e,t,n){return e.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:n}))}function a(e,t){t&&(s(e,t),(0,o.j)(t)),l(e,"submit",!0)&&e.submit()}function s(e,t){if(!(e instanceof HTMLFormElement))throw TypeError("The specified element is not of type HTMLFormElement.");if(!(t instanceof HTMLElement))throw TypeError("The specified element is not of type HTMLElement.");if("submit"!==t.type)throw TypeError("The specified element is not a submit button.");if(!e||e!==t.form)throw Error("The specified element is not owned by the form element.")}function c(e,t){if("boolean"==typeof t){if(e instanceof HTMLInputElement)e.checked=t;else throw TypeError("only checkboxes can be set to boolean value")}else{if("checkbox"===e.type)throw TypeError("checkbox can't be set to string value");e.value=t}l(e,"change",!1)}function u(e,t){for(let n in t){let r=t[n],o=e.elements.namedItem(n);o instanceof HTMLInputElement?o.value=r:o instanceof HTMLTextAreaElement&&(o.value=r)}}function d(e){if(!(e instanceof HTMLElement))return!1;let t=e.nodeName.toLowerCase(),n=(e.getAttribute("type")||"").toLowerCase();return"select"===t||"textarea"===t||"input"===t&&"submit"!==n&&"reset"!==n||e.isContentEditable}function f(e){return new URLSearchParams(e)}function m(e,t){let n=new URLSearchParams(e.search),r=f(t);for(let[e,t]of r)n.append(e,t);return n.toString()}function h(e){return f(new FormData(e)).toString()}(0,r.on)("click",".js-remote-submit-button",async function(e){let t;let n=e.currentTarget,r=n.form;e.preventDefault();try{t=await fetch(r.action,{method:r.method,body:new FormData(r),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{}t&&!t.ok&&(0,i.v)()})},254:(e,t,n)=>{n.d(t,{ZG:()=>a,q6:()=>c,w4:()=>s});var r=n(8439);let o=!1,i=new r.Z;function l(e){let t=e.target;if(t instanceof HTMLElement&&t.nodeType!==Node.DOCUMENT_NODE)for(let e of i.matches(t))e.data.call(null,t)}function a(e,t){o||(o=!0,document.addEventListener("focus",l,!0)),i.add(e,t),document.activeElement instanceof HTMLElement&&document.activeElement.matches(e)&&t(document.activeElement)}function s(e,t,n){function r(t){let o=t.currentTarget;o&&(o.removeEventListener(e,n),o.removeEventListener("blur",r))}a(t,function(t){t.addEventListener(e,n),t.addEventListener("blur",r)})}function c(e,t){function n(e){let{currentTarget:r}=e;r&&(r.removeEventListener("input",t),r.removeEventListener("blur",n))}a(e,function(e){e.addEventListener("input",t),e.addEventListener("blur",n)})}},75662:(e,t,n)=>{n.d(t,{r:()=>r});function r(e,t){let n=e.createElement("template");return n.innerHTML=t,e.importNode(n.content,!0)}},76177:(e,t,n)=>{function r(e){let t=e.closest("form");if(!(t instanceof HTMLFormElement))return;let n=o(t);if(e.name){let r=e.matches("input[type=submit]")?"Submit":"",o=e.value||r;n||((n=document.createElement("input")).type="hidden",n.classList.add("js-submit-button-value"),t.prepend(n)),n.name=e.name,n.value=o}else n&&n.remove()}function o(e){let t=e.querySelector("input.js-submit-button-value");return t instanceof HTMLInputElement?t:null}n.d(t,{j:()=>r,u:()=>o})},61564:(e,t,n)=>{n.d(t,{n:()=>CodeEditorExtensions});var r=n(76006),o=function(e,t,n,r){var o,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(l=(i<3?o(l):i>3?o(t,n,l):o(t,n))||l);return i>3&&l&&Object.defineProperty(t,n,l),l};let i=class BypassReasonSelectorElement extends HTMLElement{reasonSelected(){this.submitBtn.disabled=!1}copyBlobFields(){let e=document.querySelector(".js-blob-form"),t=document.querySelector(".js-bypass-form");if(e instanceof HTMLFormElement&&t instanceof HTMLFormElement)for(let n of(this.createHiddenInputField(t,"value",document.querySelector(".js-blob-contents").value),this.createHiddenInputField(t,"description",document.querySelector("#commit-description-textarea").value),e.elements))n instanceof HTMLInputElement&&n.name&&!n.name.includes("gitignore")&&"authenticity_token"!==n.name&&this.createHiddenInputField(t,n.name,n.value)}createHiddenInputField(e,t,n){let r=document.createElement("input");r.type="hidden",r.name=t,r.id=`${t}_hidden`,r.value=n,e.appendChild(r),r.required=!0}};o([r.fA],i.prototype,"submitBtn",void 0),i=o([r.Ih],i);var l=n(93928);let CodeEditorExtensions=class CodeEditorExtensions{static annotateDiscoveredSecrets(e,t){if(!e)return;let n=JSON.parse(t);if(0===n.length||n[0].locations?.length===0)return;let r=n[0].locations[0],o=e.getValue().split(/\r?\n/),i=r.start_line||r.startLine,a=r.end_line||r.endLine,s=r.start_line_byte_position||r.startLineBytePosition||0,c=r.end_line_byte_position||r.endLineBytePosition,u=i-1,d=a-1;u>d||u<0||d>o.length||e.markText({line:u,ch:(0,l.yb)(o[u],s)},{line:d,ch:(0,l.yb)(o[d],c)},{className:"CodeMirror-lint-mark-error"})}}},51536:(e,t,n)=>{n.d(t,{rV:()=>o,cl:()=>l,LS:()=>i});var r=n(44544);let{getItem:o,setItem:i,removeItem:l}=(0,r.Z)("sessionStorage")},55065:(e,t,n)=>{n.d(t,{$g:()=>SoftNavSuccessEvent,OV:()=>SoftNavStartEvent,QW:()=>SoftNavErrorEvent,Xr:()=>SoftNavEndEvent});var r=n(31167);let o=class SoftNavEvent extends Event{constructor(e,t){super(t),this.mechanism=e}};let SoftNavStartEvent=class SoftNavStartEvent extends o{constructor(e){super(e,r.QE.START)}};let SoftNavSuccessEvent=class SoftNavSuccessEvent extends o{constructor(e,t){super(e,r.QE.SUCCESS),this.visitCount=t}};let SoftNavErrorEvent=class SoftNavErrorEvent extends o{constructor(e,t){super(e,r.QE.ERROR),this.error=t}};let SoftNavEndEvent=class SoftNavEndEvent extends o{constructor(e){super(e,r.QE.END)}}},31167:(e,t,n)=>{n.d(t,{BT:()=>d,FP:()=>m,LD:()=>u,QE:()=>l,TL:()=>h,Yl:()=>c,jN:()=>a,r_:()=>f,u5:()=>p});var r=n(55065),o=n(29573),i=n(58843);let l=Object.freeze({INITIAL:"soft-nav:initial",START:"soft-nav:start",SUCCESS:"soft-nav:success",ERROR:"soft-nav:error",FRAME_UPDATE:"soft-nav:frame-update",END:"soft-nav:end",RENDER:"soft-nav:render",PROGRESS_BAR:{START:"soft-nav:progress-bar:start",END:"soft-nav:progress-bar:end"}}),a="reload",s=0;function c(){s=0,document.dispatchEvent(new Event(l.INITIAL)),(0,i.XL)()}function u(e){(0,i.sj)()||(g(),document.dispatchEvent(new r.OV(e)),(0,i.U6)(e),(0,i.J$)(),(0,i.Nt)(),(0,o.hY)())}function d(e={}){v(e)&&(s+=1,document.dispatchEvent(new r.$g((0,i.Gj)(),s)),m(e))}function f(e={}){if(!v(e))return;s=0;let t=(0,i.Wl)()||a;document.dispatchEvent(new r.QW((0,i.Gj)(),t)),b(),(0,o.t3)(t),(0,i.XL)()}function m(e={}){v(e)&&(b(),document.dispatchEvent(new r.Xr((0,i.Gj)())),(0,i.pS)())}function h(e={}){v(e)&&((0,o.mr)(),document.dispatchEvent(new Event(l.RENDER)))}function p(){document.dispatchEvent(new Event(l.FRAME_UPDATE))}function g(){document.dispatchEvent(new Event(l.PROGRESS_BAR.START))}function b(){document.dispatchEvent(new Event(l.PROGRESS_BAR.END))}function v({skipIfGoingToReactApp:e,allowedMechanisms:t=[]}={}){return(0,i.sj)()&&(0===t.length||t.includes((0,i.Gj)()))&&(!e||!(0,i.Nb)())}},29573:(e,t,n)=>{n.d(t,{CF:()=>l,hY:()=>a,mr:()=>u,t3:()=>c});var r=n(34855),o=n(58843);let i="stats:soft-nav-duration",l={turbo:"TURBO",react:"REACT","turbo.frame":"FRAME",ui:"UI",hard:"HARD"};function a(){performance.mark(i)}function s(){if(0===performance.getEntriesByName(i).length)return null;performance.measure(i,i);let e=performance.getEntriesByName(i),t=e.pop();return t?t.duration:null}function c(e){(0,r.b)({turboFailureReason:e,turboStartUrl:(0,o.wP)(),turboEndUrl:window.location.href})}function u(){let e=s();if(!e)return;let t=l[(0,o.Gj)()],n=Math.round(e);t===l.react&&document.dispatchEvent(new CustomEvent("staffbar-update",{detail:{duration:n}})),(0,r.b)({requestUrl:window.location.href,softNavigationTiming:{mechanism:t,destination:(0,o.Nb)()||"rails",duration:n,initiator:(0,o.CI)()||"rails"}})}},58843:(e,t,n)=>{n.d(t,{Ak:()=>b,CI:()=>S,Gj:()=>h,J$:()=>w,Nb:()=>E,Nt:()=>v,OE:()=>p,U6:()=>d,Wl:()=>g,XL:()=>u,pS:()=>f,sj:()=>m,wP:()=>y});var r=n(51536),o=n(31167);let i="soft-nav:fail",l="soft-nav:fail-referrer",a="soft-nav:referrer",s="soft-nav:marker",c="soft-nav:react-app-name";function u(){(0,r.LS)(s,"0"),(0,r.cl)(a),(0,r.cl)(i),(0,r.cl)(l),(0,r.cl)(c)}function d(e){(0,r.LS)(s,e)}function f(){(0,r.LS)(s,"0")}function m(){let e=(0,r.rV)(s);return e&&"0"!==e}function h(){return(0,r.rV)(s)}function p(){return Boolean(g())}function g(){return(0,r.rV)(i)}function b(e){(0,r.LS)(i,e||o.jN),(0,r.LS)(l,window.location.href)}function v(){(0,r.LS)(a,window.location.href)}function y(){return(0,r.rV)(a)||document.referrer}function w(){let e=E();e?(0,r.LS)(c,e):(0,r.cl)(c)}function S(){return(0,r.rV)(c)}function E(){return document.querySelector('meta[name="ui"]')?"ui":document.querySelector("react-app")?.getAttribute("app-name")}},40458:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(19146),o=n(4945);function i(e){return new Promise(t=>{e.addEventListener("dialog:remove",t,{once:!0})})}function l(e){let t=document.querySelector(".sso-modal");t&&(t.classList.remove("success","error"),e?t.classList.add("success"):t.classList.add("error"))}function a(e){let t=document.querySelector("meta[name=sso-expires-around]");t&&t.setAttribute("content",e)}async function s(){let e=document.querySelector("link[rel=sso-modal]"),t=await (0,r.W)({content:(0,o.a_)(document,e.href),dialogClass:"sso-modal"}),n=null,s=window.external;if(s.ssoComplete=function(e){e.error?l(n=!1):(l(n=!0),a(e.expiresAround),window.focus()),s.ssoComplete=null},await i(t),!n)throw Error("sso prompt canceled")}function c(e){if(!(e instanceof HTMLMetaElement))return!0;let t=parseInt(e.content),n=new Date().getTime()/1e3;return n>t}async function u(){let e=document.querySelector("link[rel=sso-session]"),t=document.querySelector("meta[name=sso-expires-around]");if(!(e instanceof HTMLLinkElement)||!c(t))return!0;let n=e.href,r=await fetch(n,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}),o=await r.json();return o}(0,n(36071).N7)(".js-sso-modal-complete",function(e){if(window.opener&&window.opener.external.ssoComplete){let t=e.getAttribute("data-error"),n=e.getAttribute("data-expires-around");window.opener.external.ssoComplete({error:t,expiresAround:n}),window.close()}else{let t=e.getAttribute("data-fallback-url");t&&(window.location.href=t)}});let d=null;function f(){d=null}async function m(){let e=await u();e||(d||(d=s().then(f).catch(f)),await d)}},34855:(e,t,n)=>{n.d(t,{B:()=>r.B,b:()=>r.b});var r=n(71643)},93928:(e,t,n)=>{function r(e){let t=e.split("\u200D"),n=0;for(let e of t){let t=Array.from(e.split(/[\ufe00-\ufe0f]/).join("")).length;n+=t}return n/t.length}function o(e,t,n,r=!0){let o=e.value.substring(0,e.selectionEnd||0),i=e.value.substring(e.selectionEnd||0);return a(e,(o=o.replace(t,n))+(i=i.replace(t,n)),o.length,r),n}function i(e,t,n){if(null===e.selectionStart||null===e.selectionEnd)return o(e,t,n);let r=e.value.substring(0,e.selectionStart),i=e.value.substring(e.selectionEnd);return a(e,r+n+i,r.length),n}function l(e,t,n={}){let r=e.selectionEnd||0,o=e.value.substring(0,r),i=e.value.substring(r),l=""===e.value||o.match(/\n$/)?"":"\n",a=n.appendNewline?"\n":"",s=l+t+a;e.value=o+s+i;let c=r+s.length;return e.selectionStart=c,e.selectionEnd=c,e.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),e.focus(),s}function a(e,t,n,r=!0){e.value=t,r&&(e.selectionStart=n,e.selectionEnd=n),e.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1}))}function s(e,t){let n=[...e],r=new TextEncoder,o=new Uint8Array(4);for(let e=0;e<n.length;e++){let i=n[e],{written:l,read:a}=r.encodeInto(i,o);if(!l||!a)return -1;let s=l-a;if(0!==s&&(e<t&&(t-=s),e>=t))break}return t}n.d(t,{Om:()=>l,lp:()=>o,rq:()=>r,t4:()=>i,yb:()=>s})},68423:(e,t,n)=>{n.d(t,{dY:()=>u,iU:()=>c,oq:()=>s});let r=new WeakMap;function o(e){let t=r.get(e);t&&(null!=t.timer&&clearTimeout(t.timer),t.timer=window.setTimeout(()=>{null!=t.timer&&(t.timer=null),t.inputed=!1,t.listener.call(null,e)},t.wait))}function i(e){let t=e.currentTarget,n=r.get(t);n&&(n.keypressed=!0,null!=n.timer&&clearTimeout(n.timer))}function l(e){let t=e.currentTarget,n=r.get(t);n&&(n.keypressed=!1,n.inputed&&o(t))}function a(e){let t=e.currentTarget,n=r.get(t);n&&(n.inputed=!0,n.keypressed||o(t))}function s(e,t,n={wait:null}){r.set(e,{keypressed:!1,inputed:!1,timer:void 0,listener:t,wait:null!=n.wait?n.wait:100}),e.addEventListener("keydown",i),e.addEventListener("keyup",l),e.addEventListener("input",a)}function c(e,t){e.removeEventListener("keydown",i),e.removeEventListener("keyup",l),e.removeEventListener("input",a);let n=r.get(e);n&&(null!=n.timer&&n.listener===t&&clearTimeout(n.timer),r.delete(e))}function u(e){let t=r.get(e);t&&t.listener.call(null,e)}},97629:(e,t,n)=>{function r(e){return e.offsetWidth<=0&&e.offsetHeight<=0}function o(e){return!r(e)}n.d(t,{Z:()=>o})},4412:(e,t,n)=>{n.d(t,{C:()=>i,x:()=>o});var r=n(86283);let o=r.n4?.readyState==="interactive"||r.n4?.readyState==="complete"?Promise.resolve():new Promise(e=>{r.n4?.addEventListener("DOMContentLoaded",()=>{e()})}),i=r.n4?.readyState==="complete"?Promise.resolve():new Promise(e=>{r.iG?.addEventListener("load",e)})},53729:(e,t,n)=>{n.d(t,{A7:()=>d,ko:()=>c,q1:()=>a});var r=n(15205),o=n(86283);let i=(0,r.Z)(l);function l(){return o.n4?.head?.querySelector('meta[name="runtime-environment"]')?.content||""}let a=(0,r.Z)(s);function s(){return o.n4?.head?.querySelector('meta[name="is-private-instance"]')?.content==="true"}let c=(0,r.Z)(u);function u(){return"enterprise"===i()}let d="webpack"},44544:(e,t,n)=>{n.d(t,{Z:()=>l,_:()=>a});var r=n(86283),o=n(71643);let i=class NoOpStorage{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}};function l(e,t={throwQuotaErrorsOnSet:!1},n=r.iG,l=e=>e,a=e=>e){let s;try{if(!n)throw Error();s=n[e]||new i}catch{s=new i}let{throwQuotaErrorsOnSet:c}=t;function u(e){t.sendCacheStats&&(0,o.b)({incrementKey:e})}function d(e){try{if(s.removeItem(e),t.ttl){let t=`${e}:expiry`;s.removeItem(t)}}catch(e){}}return{getItem:function(e,t=new Date().getTime()){try{let n=s.getItem(e);if(!n)return null;let r=`${e}:expiry`,o=Number(s.getItem(r));if(o&&t>o)return d(e),d(r),u("SAFE_STORAGE_VALUE_EXPIRED"),null;return u("SAFE_STORAGE_VALUE_WITHIN_TTL"),l(n)}catch(e){return null}},setItem:function(e,n,r=new Date().getTime()){try{if(s.setItem(e,a(n)),t.ttl){let n=`${e}:expiry`,o=r+t.ttl;s.setItem(n,o.toString())}}catch(e){if(c&&e instanceof Error&&e.message.toLowerCase().includes("quota"))throw e}},removeItem:d,clear:s.clear,key:s.key,get length(){return s.length}}}function a(e){return l(e,{throwQuotaErrorsOnSet:!1},window,JSON.parse,JSON.stringify)}},86283:(e,t,n)=>{n.d(t,{Qg:()=>r.Qg,W6:()=>r.W6,cF:()=>r.cF,iG:()=>o.iG,jX:()=>o.jX,n4:()=>o.n4});var r=n(35647),o=n(73614)},73614:(e,t,n)=>{n.d(t,{iG:()=>o,jX:()=>i,n4:()=>r});let r="undefined"==typeof document?void 0:document,o="undefined"==typeof window?void 0:window,i="undefined"==typeof location?{pathname:"",origin:"",search:""}:location},35647:(e,t,n)=>{n.d(t,{Qg:()=>i,W6:()=>o,cF:()=>l});var r=n(73614);let o=void 0===r.n4,i=!o;function l(){return!!o||Boolean(r.n4.querySelector('react-app[data-ssr="true"]'))}},71643:(e,t,n)=>{n.d(t,{B:()=>p,b:()=>a});var r=n(86283),o=n(4412),i=n(53729);let l=[];function a(e,t=!1){void 0===e.timestamp&&(e.timestamp=new Date().getTime()),e.loggedIn=h(),e.staff=p(),e.bundler=i.A7,l.push(e),t?u():c()}let s=null;async function c(){await o.C,null==s&&(s=window.requestIdleCallback(u))}function u(){if(s=null,!l.length)return;let e=r.n4?.head?.querySelector('meta[name="browser-stats-url"]')?.content;if(!e)return;let t=d(l);for(let n of t)m(e,`{"stats": [${n.join(",")}] }`);l=[]}function d(e){let t=[],n=e.map(e=>JSON.stringify(e));for(;n.length>0;)t.push(f(n));return t}function f(e){let t=e.shift(),n=[t],r=t.length;for(;e.length>0&&r<=65536;){let t=e[0].length;if(r+t<=65536){let o=e.shift();n.push(o),r+=t}else break}return n}function m(e,t){try{navigator.sendBeacon&&navigator.sendBeacon(e,t)}catch{}}function h(){return!!r.n4?.head?.querySelector('meta[name="user-login"]')?.content}function p(){return!!r.n4?.head?.querySelector('meta[name="user-staff"]')?.content}r.n4?.addEventListener("pagehide",u),r.n4?.addEventListener("visibilitychange",u)},22490:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(86283);function o(e){return()=>{throw TypeError(`The policy does not implement the function ${e}`)}}let i={createHTML:o("createHTML"),createScript:o("createScript"),createScriptURL:o("createScriptURL")},l={createPolicy:(e,t)=>({name:e,...i,...t})},a=globalThis.trustedTypes??l,s=!1;r.n4?.addEventListener("securitypolicyviolation",e=>{"require-trusted-types-for"!==e.violatedDirective||s||(console.warn(`Hi fellow Hubber!
    You're probably seeing a Report Only Trusted Types error near this message. This is intended behaviour, staff-only,
    does not impact application control flow, and is used solely for statistic collection. Unfortunately we
    can't gather these statistics without adding the above warnings to your console. Sorry about that!
    Feel free to drop by #pse-architecture if you have any additional questions about Trusted Types or CSP.`),s=!0)})}},e=>{var t=t=>e(e.s=t);e.O(0,["vendors-node_modules_github_selector-observer_dist_index_esm_js","vendors-node_modules_codemirror_lib_codemirror_js","vendors-node_modules_codemirror-contrib_lib_mode_meta_js-node_modules_codemirror_addon_commen-9ad7c1","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_github_catalyst_lib_inde-124da51"],()=>t(62220));var n=e.O()}]);
//# sourceMappingURL=editor-c85b65f3bcee.js.map